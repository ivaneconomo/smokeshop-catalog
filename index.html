<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SmokeShop Â· CatÃ¡logo</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <!-- ðŸ”½ AraÃ±a GIF: izquierda â†’ derecha, rÃ¡pida, opacidad constante -->
    <div
      id="spider-overlay"
      style="
        position: fixed;
        inset: 0;
        z-index: 9999999999;
        pointer-events: none;
      "
    ></div>

    <script>
      (function () {
        const overlay = document.getElementById('spider-overlay');
        if (!overlay) return;

        // â±ï¸ Para probar: pasa seguido y rÃ¡pido
        const minInterval = 5000,
          maxInterval = 20000; // 2â€“4s entre pases (para test)
        const duration = 2000; // âš¡ velocidad (3s de izquierda a derecha)
        const spiderUrl = '/images/spider.gif';
        const sizePx = 300; // tamaÃ±o del GIF

        // AnimaciÃ³n: Lâ†’R con leve â€œswayâ€ vertical. SIN cambios de opacidad.
        const style = document.createElement('style');
        style.textContent = `
    @keyframes spiderLR {
      0%   { transform: translateX(-20vw) translateY(0) scale(var(--scale)); }
      25%  { transform: translateX(20vw)  translateY(-8px) scale(var(--scale)); }
      50%  { transform: translateX(60vw)  translateY( 8px) scale(var(--scale)); }
      75%  { transform: translateX(100vw) translateY(-6px) scale(var(--scale)); }
      100% { transform: translateX(120vw) translateY(0)   scale(var(--scale)); }
    }`;
        document.head.appendChild(style);

        function runOnce() {
          const topPos = Math.floor(Math.random() * 70) + 10; // 10â€“80vh
          const scale = (Math.random() * 0.2 + 0.9).toFixed(2); // 0.9â€“1.1

          // Pista horizontal donde viaja la araÃ±a
          const lane = document.createElement('div');
          lane.style.position = 'fixed';
          lane.style.left = 0;
          lane.style.top = topPos + 'vh';
          lane.style.width = '100vw';
          lane.style.height = 0;
          lane.style.overflow = 'visible';
          lane.style.pointerEvents = 'none';
          lane.style.zIndex = '9999999999';

          const img = document.createElement('img');
          img.src = spiderUrl;
          img.alt = 'Spider';
          img.style.width = sizePx + 'px';
          img.style.height = 'auto';
          img.style.willChange = 'transform';
          img.style.pointerEvents = 'none';
          img.style.animation = `spiderLR ${duration}ms linear both`;
          img.style.setProperty('--scale', scale);

          lane.appendChild(img);
          overlay.appendChild(lane);

          setTimeout(() => overlay.removeChild(lane), duration + 150);
          // console.log("[spider] Lâ†’R en", topPos + "vh");
        }

        function schedule() {
          const delay =
            Math.floor(Math.random() * (maxInterval - minInterval + 1)) +
            minInterval;
          setTimeout(() => {
            runOnce();
            schedule();
          }, delay);
        }

        runOnce(); // primer pase inmediato
        schedule();
      })();
    </script>
    <!-- ðŸ”¼ Fin -->
  </body>
</html>
